<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="./p083/환율조회용.js"></script>
</head>

<body>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const dollar_div = document.createElement('div')
            const won_div = document.createElement('div')
            const description_div = document.createElement('div')
            const result_div = document.createElement('div')
            const dollar_input = document.createElement('input')
            const dollar_span = document.createElement('span')
            const won_input = document.createElement('input')
            const won_span = document.createElement('span')
            const description_h3 = document.createElement('h3')
            const result_h3 = document.createElement('h3')
            document.body.append(description_div, dollar_div, won_div, result_div)
            dollar_div.append(dollar_input, dollar_span)
            won_div.append(won_input, won_span)
            description_div.append(description_h3)
            result_div.append(result_h3)
            dollar_span.textContent = '달러'
            won_span.textContent = '원'
 
            let ER
            EX_R().then(data => {
                ER = data
                description_h3.textContent = `현재 달러 환율은 달러 당 ${ER.toLocaleString('ko-KR')}원입니다.`
            })
            dollar_input.addEventListener('keyup', () => {             
                won_input.value = dollar_input.value * ER
                const result_money = won_input.value
                result_h3.textContent = `환전하신 금액은 ${result_money.toLocaleString('ko-KR')}원입니다.`
            })
        })
    </script>
</body>

</html>